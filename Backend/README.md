Документация к эндпоинтам:

1. **POST /login**

   Описание: Аутентификация пользователя по его логину и паролю. Возвращает токен авторизации, который сохраняется в cookie.

   Параметры запроса (в теле запроса в формате JSON):
   - nickname (string): Логин пользователя.
   - password (string): Пароль пользователя.

   Ответ:
   - 200 OK: Аутентификация успешна. Возвращает токен авторизации и информацию о пользователе.
   - 401 Unauthorized: Ошибка аутентификации. Неправильный логин или пароль.

2. **POST /signup**

   Описание: Регистрация нового пользователя.

   Параметры запроса (в теле запроса в формате JSON):
   - nickname (string): Логин нового пользователя.
   - password (string): Пароль нового пользователя.

   Ответ:
   - 200 OK: Регистрация успешна. Возвращает токен авторизации и информацию о пользователе.
   - 226 IM Used: Логин занят другим пользователем.
   - 400 Bad Request: Ошибка входных данных.

3. **POST /checkToken**

   Описание: Проверка валидности токена авторизации.

   Параметры запроса: Не требуется.

   Ответ:
   - 200 OK: Токен валиден. Возвращает информацию о пользователе.
   - 401 Unauthorized: Ошибка авторизации. Токен недействителен или отсутствует.

4. **GET /getUsers**

   Описание: Получение списка всех пользователей (для разработки).

   Параметры запроса: Не требуется.

   Ответ:
   - 200 OK: Запрос выполнен успешно. Возвращает список пользователей.

5. **GET /getOneUser**

   Описание: Получение информации о конкретном пользователе по его идентификатору или логину.

   Параметры запроса:
   - id (number, опционально): Идентификатор пользователя.
   - nickname (string, опционально): Логин пользователя.

   Ответ:
   - 200 OK: Запрос выполнен успешно. Возвращает информацию о пользователе.
   - 400 Bad Request: Ошибка запроса. Не указаны параметры id или nickname.
   - 404 Not Found: Пользователь не найден.

6. **GET /getPosts**

   Описание: Получение списка всех постов.

   Параметры запроса:
   - start (number, опционально): Начальный индекс для пагинации.
   - max (number, опционально): Максимальное количество постов для получения.

   Ответ:
   - 200 OK: Запрос выполнен успешно. Возвращает список постов.
   - 204 No Content: Список постов пуст.

7. **GET /getPostsByUserId**

   Описание: Получение списка постов пользователя по его идентификатору.

   Параметры запроса:
- user_id (number): Идентификатор пользователя, чьи посты необходимо получить.

   Ответ:
   - 200 OK: Запрос выполнен успешно. Возвращает список постов пользователя.
   - 204 No Content: Список постов пуст.

8. **GET /getPostByPost_id**

   Описание: Получение информации о конкретном посте по его идентификатору.

   Параметры запроса:
   - post_id (number): Идентификатор поста.

   Ответ:
   - 200 OK: Запрос выполнен успешно. Возвращает информацию о посте.
   - 204 No Content: Пост не найден.

9. **GET /getPostLength**

   Описание: Получение количества всех постов.

   Параметры запроса: Не требуется.

   Ответ:
   - 200 OK: Запрос выполнен успешно. Возвращает количество всех постов.

10. **POST /createPost**

    Описание: Создание нового поста.

    Параметры запроса:
    - message (string): Текст сообщения поста.

    Ответ:
    - 200 OK: Пост успешно создан. Возвращает информацию о созданном посте.
    - 204 No Content: Не удалось создать пост.

11. **PUT /updatePost/:post_id**

    Описание: Обновление информации о существующем посте.

    Параметры запроса:
    - post_id (number): Идентификатор поста, который требуется обновить.
    - message (string): Новый текст сообщения поста (опционально).

    Ответ:
    - 200 OK: Пост успешно обновлен. Возвращает информацию о обновленном посте.
    - 204 No Content: Не удалось обновить пост.

12. **DELETE /post/:post_id**

    Описание: Удаление существующего поста.

    Параметры запроса:
    - post_id (number): Идентификатор поста, который требуется удалить.

    Ответ:
    - 200 OK: Пост успешно удален.
    - 204 No Content: Не удалось удалить пост.

13. **All other routes**

    Описание: Обработка всех остальных запросов, которые не совпадают с определенными эндпоинтами.

    Ответ:
    - 404 Not Found: Маршрут не найден.

Это описание основных эндпоинтов и их функциональности в представленном коде. Однако, для полной документации требуется описать все параметры запросов, возможные ошибки и возвращаемые значения более подробно, а также описать структуру данных, используемых в запросах и ответах.
